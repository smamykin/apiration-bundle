Exception-объекты текущей директории, автоматически преобразовываются в Response (за это отвечает Exception Shielding).

Обработка исключений относится к сквозной функциональности, поэтому эту логику рекомендуется реализовывать в отдельных
компонентах, которые могут использоваться совместно слоями и уровнями приложения.

Exception Shielding (Экранирование исключений)
--
Очищает небезопасные исключения, заменяя их исключениями с безопасной структурой. Возвращает клиенту только очищенные
исключения или исключения с безопасной структурой. Исключения с безопасной структурой не включают конфиденциальные
данные в сообщение об исключении и не содержат подробных записей трассировки стека, поскольку это может привести к
разглашению конфиденциальных данных о внутренних операциях Веб-сервиса. Более подробно этот шаблон рассматривается в
материале «Exception Shielding» по адресу http://msdn2.microsoft.com/en-us/library/aa480591.aspx.

Наш Exception Shielding называется ExceptionResolver.

При проектировании стратегии управления исключениями, заводятся типы исключений:
- исключения системы или приложения
- исключения доступа к системным ресурсам пользователями, не имеющими для этого разрешений
- системные сбои, возникающие из-за:
- - проблем с жестким диском
- - проблем с ЦП
- - проблем с памятью
- - проблем с бизнес-логикой (исключения, обусловленные такими действиями, как нарушение бизнес-правил)

Как работать с Exception-ами
--
Различайте системные исключения и ошибки бизнес-логики. Для ошибок бизнес-логики выводите на экран понятное пользователю
сообщение об ошибке и предоставьте пользователю возможность повторить операцию. Для системных ошибок проведите проверку
причины возникновения исключения (например, сбой сервиса или базы данных), выведите на экран понятное пользователю
сообщение об ошибке и запротоколируйте сообщение об ошибке, что будет полезным при диагностике и устранении неисправностей.
Перехватывайте только те исключения, которые можете обработать, и избегайте использования собственных исключений без
крайней надобности. Не применяйте исключения для управления потоком логики приложения.

На основании сценария и индивидуального контекста установите, кому адресовано исключение.
Можно выделить три категории аудитории:
- конечные пользователи
- разработчики приложения
- операторы

Операторам службы поддержки должна предоставляться соответствующая информация, которая позволит им реагировать
соответствующим образом и предпринять необходимые шаги по восстановлению системы после ошибки. При сборе данных
исключения для операторов службы поддержки обеспечьте сведения, которые помогут им найти людей, которых они должны
уведомить об исключении, и информацию, которую они должны будут передать для решения проблемы.
Независимо от целевой аудитории всегда полезно обеспечивать исчерпывающую информацию об исключении. Сохраняйте эти
сведения в файле журнала для последующей проверки и анализа частоты возникновения исключений и их данных. По умолчанию
должны фиксироваться, как минимум, дата и время, имя компьютера, источник исключения и тип, сообщение об исключении,
данные о стеке и вызовах, доменное имя приложения, имя и версия сборки, ID потока и сведения о пользователе.

Валидация (почти как завещали)
--
> Проверка пользовательского ввода должна проводиться в слое представления, тогда как проверка на соответствие
> бизнес-правилам – в бизнес-слое. Это сделает приложение более удобным в обслуживании, поскольку позволит изменять
> бизнес-логику без влияния на слой представления.

Стоит заметить, что выше описанный совет отлично работает в монолитном приложении построенном на больших компонентах.
Данный проект у нас является компонентом, а не монолитным приложением, поэтому мы объединили проверку пользовательского
ввода с бизнес-моделями, и благодаря этому получили в два раза меньшее количество Value Object, что облегчает понимание,
т.к. нет дополнительной трансформации между слоями.

Совет: продумайте, как будет выполняться передача исключений через физические границы, границы процессов или AppDomain.

Symfony Http Exception-ы
--
|Http-code|Info|
|---|---|
|400|YaPro\ApiRationBundle\Exception\BadRequestException - ошибка валидации переданных данных (синтаксис запроса является неправильным)|
|403|YaPro\ApiRationBundle\Exception\AccessDeniedHttpException - Forbidden : доступ для клиента к запрашиваемому ресурсу не разрешен|
|404|YaPro\ApiRationBundle\Exception\NotFoundHttpException - Not Found : запрашиваемый ресурс не найден|
|409|YaPro\ApiRationBundle\Exception\ConflictHttpException - Already exists : сущность уже существует|
|422|Symfony\Component\HttpKernel\Exception\UnprocessableEntityHttpException - ошибка обработки переданных данных (синтаксис запроса является правильным)|

Но, если нужно выбросить какой-то другой Exception, посмотрите, может нужный Exception уже есть в директории:
```shell script
vendor/symfony/http-kernel/Exception/
```

